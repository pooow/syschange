# ==========================================
# Конфигурация syschange
# ==========================================
# Этот файл содержит все настройки проекта.
# Не используйте хардкод в коде — все параметры должны быть здесь!

# Настройки логирования
logging:
  # Уровень логирования: DEBUG, INFO, WARNING, ERROR
  level: "INFO"
  # Использовать цветной вывод (требует библиотеку coloredlogs)
  use_colors: true

# Настройки сканирования файловой системы
scan:
  # Базовая директория для хранения снимков
  snapshot_base_dir: "/var/log/system_changes"
  
  # Максимальное количество потоков для параллельного хэширования
  # Рекомендуется: min(32, CPU_COUNT + 4)
  max_workers: 16
  
  # Директории для сканирования (список путей)
  # По умолчанию: корневая ФС ("/")
  dirs_to_scan:
    - "/"
  
  # Максимальный размер текстового файла для копирования в Git (в байтах)
  # По умолчанию: 1 MiB
  max_text_file_size: 1048576
  
  # Минимальный размер файла для параллельного хэширования (в байтах)
  # Файлы меньше этого размера хэшируются в главном потоке
  min_parallel_size: 1048576

# Исключения из сканирования
# Пути с символами * и ? обрабатываются как шаблоны (fnmatch)
excludes:
  - "/tmp"                        # Временные файлы
  - "/proc"                       # Виртуальная ФС ядра
  - "/sys"                        # Интерфейс к ядру
  - "/dev"                        # Устройства
  - "/run"                        # Runtime данные
  - "/var/lib/rpm/__db.*"         # Lock-файлы RPM
  - "/home/*/.cache"              # Кэш пользователей
  - "/var/log/journal/"           # Бинарные журналы systemd
  - "/var/lib/samba/msg.lock/*"   # Lock-файлы Samba
  - "/var/lib/samba/private/msg.sock/"  # Сокеты Samba

# Настройки Git-репозитория для отслеживания текстовых файлов
git:
  # Использовать Git для отслеживания изменений текстовых файлов
  enabled: true
  
  # Email для коммитов (используется при инициализации репозитория)
  user_email: "snapshot@local"
  
  # Имя пользователя для коммитов
  user_name: "Snapshot Script"

# Расширения файлов, которые точно НЕ текстовые
# Это ускоряет работу: не нужно читать содержимое бинарных файлов
binary_extensions:
  - ".png"
  - ".jpg"
  - ".jpeg"
  - ".gif"
  - ".bmp"
  - ".ico"
  - ".tiff"
  - ".so"
  - ".o"
  - ".a"
  - ".ko"
  - ".pyc"
  - ".pyo"
  - ".db"
  - ".sqlite"
  - ".sqlite3"
  - ".bak"
  - ".swp"
  - ".swo"
  - ".pdf"
  - ".doc"
  - ".docx"
  - ".xls"
  - ".xlsx"
  - ".ppt"
  - ".pptx"
  - ".zip"
  - ".tar"
  - ".gz"
  - ".bz2"
  - ".xz"
  - ".7z"
  - ".rar"
  - ".mp3"
  - ".mp4"
  - ".avi"
  - ".mkv"
  - ".wav"
  - ".ogg"

